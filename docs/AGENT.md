# tara-agent Configuration Guide

## Overview

`tara-agent` is the data collector binary. It runs on the target machine, scrapes system metrics, and sends them to the `tara-server`.

## Configuration

The agent is configured entirely via Environment Variables.

| Variable | Default | Description |
| :--- | :--- | :--- |
| `SERVER_URL` | `http://localhost:8080` | The full base URL of the `tara-server` ingestion engine. |
| `AGENT_TOKEN` | *None* | **Required**. The secure Bearer Token generated by the server. |
| `AGENT_INTERVAL` | `1s` | The frequency of metric collection (e.g., `1s`, `500ms`, `5s`). |
| `LOG_LEVEL` | `info` | JSON logger verbosity (`debug`, `info`, `warn`, `error`). |

## Running the Agent

### 1. Prerequisites
- `tara-agent` binary (compiled via `go build -o bin/tara-agent cmd/agent/main.go`)
- A valid token generated from the server.

### 2. Execution

```bash
# Set environment variables
export SERVER_URL="http://your-server-ip:8080"
export AGENT_TOKEN="your_secure_token_here"
export AGENT_INTERVAL="5s"

# Run
./bin/tara-agent
```

### 3. Systemd Service (Example)

Create `/etc/systemd/system/tara-agent.service`:

```ini
[Unit]
Description=TaraSysDash Agent
After=network.target

[Service]
ExecStart=/usr/local/bin/tara-agent
Environment="SERVER_URL=http://192.168.1.10:8080"
Environment="AGENT_TOKEN=a1b2c3d4..."
Restart=always

[Install]
WantedBy=multi-user.target
```
